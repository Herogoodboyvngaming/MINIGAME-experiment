<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>MINI GAME ÄÆ¯á»¢C Táº O Bá»I NGUYá»„N CHÃ Dá»°</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Báº£ng Ä‘iá»ƒm chung á»Ÿ Ä‘áº§u trang -->
    <div class="score-board">
        <p>ğŸ’° Äiá»ƒm cá»§a báº¡n: <strong id="playerCoins">0</strong></p>
    </div>

    <div class="header">
        <h1>ğŸ® MINI GAME ÄÆ¯á»¢C Táº O Bá»I NGUYá»„N CHÃ Dá»° ğŸ‰</h1>
        <div class="subtitle">ğŸ¥³ CHÃšC CÃC Báº N CHÆ I MINI GAME VUI Váºº ğŸ¥³</div>
    </div>

    <p class="intro-text">Chá»n má»™t mini game Ä‘á»ƒ chÆ¡i nÃ o! ğŸš€</p>
    
    <div class="menu">
        <button onclick="showGame('snake')">ğŸ Ráº¯n SÄƒn Má»“i</button>
        <button onclick="showGame('tictactoe')">â­• Ã” Ä‚n Quan (Cá» Caro)</button>
        <button onclick="showGame('flappy')">ğŸ¦ Flappy Bird</button>
        <button onclick="showGame('pikachu')">ğŸ€„ Pikachu GhÃ©p Cáº·p</button>
        <button onclick="showGame('shop')">ğŸ›’ SHOP MUA ITEM</button>
        <button class="info-btn" onclick="showInfo()">â„¹ï¸ THÃ”NG TIN & UPDATE</button>
    </div>

    <!-- Ráº¯n SÄƒn Má»“i -->
    <div id="snake" class="game-container">
        <h2>ğŸ Ráº¯n SÄƒn Má»“i</h2>
        <div class="controls-guide">
            <p><strong>Äiá»u khiá»ƒn:</strong></p>
            <p>ğŸ–¥ï¸ PC/Mac: DÃ¹ng phÃ­m mÅ©i tÃªn â†‘ â† â†“ â†’</p>
            <p>ğŸ“± Mobile: DÃ¹ng nÃºt Ä‘iá»u hÆ°á»›ng dÆ°á»›i mÃ n hÃ¬nh</p>
        </div>
        <canvas id="snakeCanvas" width="400" height="400"></canvas>
        <div id="snakeScore" class="score">Äiá»ƒm hiá»‡n táº¡i: 0</div>
        <div id="snakeControls" class="mobile-controls">
            <button onclick="changeDirection('up')">â†‘</button>
            <div class="horizontal-controls">
                <button onclick="changeDirection('left')">â†</button>
                <button onclick="changeDirection('down')">â†“</button>
                <button onclick="changeDirection('right')">â†’</button>
            </div>
        </div>
    </div>

    <!-- Ã” Ä‚n Quan (Cá» Caro) -->
    <div id="tictactoe" class="game-container">
        <h2>â­• Ã” Ä‚n Quan (Cá» Caro)</h2>
        <div class="controls-guide">
            <p><strong>Äiá»u khiá»ƒn:</strong></p>
            <p>ğŸ–¥ï¸ğŸ“± Click/Cháº¡m vÃ o Ã´ trá»‘ng Ä‘á»ƒ Ä‘áº·t X</p>
            <p>Báº¡n lÃ  X, mÃ¡y lÃ  O</p>
        </div>
        <table class="ttt-table">
            <tr>
                <td onclick="playTTT(0)"><h1 id="ttt0">&nbsp;</h1></td>
                <td onclick="playTTT(1)"><h1 id="ttt1">&nbsp;</h1></td>
                <td onclick="playTTT(2)"><h1 id="ttt2">&nbsp;</h1></td>
            </tr>
            <tr>
                <td onclick="playTTT(3)"><h1 id="ttt3">&nbsp;</h1></td>
                <td onclick="playTTT(4)"><h1 id="ttt4">&nbsp;</h1></td>
                <td onclick="playTTT(5)"><h1 id="ttt5">&nbsp;</h1></td>
            </tr>
            <tr>
                <td onclick="playTTT(6)"><h1 id="ttt6">&nbsp;</h1></td>
                <td onclick="playTTT(7)"><h1 id="ttt7">&nbsp;</h1></td>
                <td onclick="playTTT(8)"><h1 id="ttt8">&nbsp;</h1></td>
            </tr>
        </table>
        <p id="tttStatus" class="status"></p>
    </div>

    <!-- Flappy Bird -->
    <div id="flappy" class="game-container">
        <h2>ğŸ¦ Flappy Bird</h2>
        <div class="controls-guide">
            <p><strong>Äiá»u khiá»ƒn:</strong></p>
            <p>ğŸ–¥ï¸ PC/Mac: Nháº¥n phÃ­m Space hoáº·c Click chuá»™t</p>
            <p>ğŸ“± Mobile: Cháº¡m vÃ o mÃ n hÃ¬nh Ä‘á»ƒ bay lÃªn</p>
        </div>
        <canvas id="flappyCanvas" width="400" height="500"></canvas>
        <div id="flappyScore" class="score">Äiá»ƒm hiá»‡n táº¡i: 0</div>
    </div>

    <!-- Pikachu GhÃ©p Cáº·p -->
    <div id="pikachu" class="game-container">
        <h2>ğŸ€„ Pikachu GhÃ©p Cáº·p</h2>
        <div class="controls-guide">
            <p><strong>Äiá»u khiá»ƒn:</strong></p>
            <p>ğŸ–¥ï¸ğŸ“± Click/Cháº¡m vÃ o 2 Ã´ giá»‘ng nhau Ä‘á»ƒ ghÃ©p Ä‘Ã´i</p>
            <p>GhÃ©p háº¿t Ä‘á»ƒ tháº¯ng!</p>
        </div>
        <div id="pikachuBoard"></div>
        <p id="pikachuStatus" class="status">CÃ²n láº¡i: <span id="pairsLeft">8</span> cáº·p</p>
    </div>

    <!-- SHOP -->
    <div id="shop" class="game-container">
        <h2>ğŸ›’ SHOP MUA ITEM</h2>
        <p>DÃ¹ng Ä‘iá»ƒm kiáº¿m Ä‘Æ°á»£c Ä‘á»ƒ mua skin vÃ  hiá»‡u á»©ng Ä‘áº¹p hÆ¡n!</p>
        <div class="shop-info">
            <p>ğŸ’° Äiá»ƒm hiá»‡n táº¡i: <strong id="playerCoins">0</strong></p>
        </div>
        <div class="shop-items">
            <div class="shop-item">
                <span>ğŸ¨ Skin Ráº¯n Xanh LÃ¡ (Máº·c Ä‘á»‹nh)</span>
                <button disabled>ÄÃ£ sá»Ÿ há»¯u</button>
            </div>
            <div class="shop-item">
                <span>ğŸ”¥ Skin Ráº¯n Lá»­a Äá» (200 Ä‘iá»ƒm)</span>
                <button id="buy-redSnake" onclick="buyItem('redSnake', 200)">Mua</button>
            </div>
            <div class="shop-item">
                <span>ğŸŒˆ Skin Ráº¯n Cáº§u Vá»“ng (500 Ä‘iá»ƒm)</span>
                <button id="buy-rainbowSnake" onclick="buyItem('rainbowSnake', 500)">Mua</button>
            </div>
            <div class="shop-item">
                <span>ğŸ¦¸ Skin Chim SiÃªu Anh HÃ¹ng (300 Ä‘iá»ƒm)</span>
                <button id="buy-heroBird" onclick="buyItem('heroBird', 300)">Mua</button>
            </div>
            <div class="shop-item">
                <span>âœ¨ Hiá»‡u á»©ng GhÃ©p ÄÃ´i Láº¥p LÃ¡nh (400 Ä‘iá»ƒm)</span>
                <button id="buy-sparkleMatch" onclick="buyItem('sparkleMatch', 400)">Mua</button>
            </div>
        </div>
    </div>

    <!-- Modal Game Over / Tháº¯ng -->
    <div id="gameModal" class="modal">
        <div class="modal-content">
            <h2 id="modalTitle">ğŸ‰ ChÃºc má»«ng!</h2>
            <p id="modalMessage">Báº¡n Ä‘Ã£ tháº¯ng vá»›i Ä‘iá»ƒm sá»‘ tuyá»‡t vá»i!</p>
            <button class="restart-btn" onclick="restartCurrentGame()">ğŸ”„ ChÆ¡i láº¡i</button>
        </div>
    </div>

    <!-- Modal ThÃ´ng tin -->
    <div id="infoModal" class="modal">
        <div class="modal-content info-modal">
            <h2>â„¹ï¸ THÃ”NG TIN & UPDATE</h2>
            <div class="info-content">
                <p><strong>TÃ¡c giáº£:</strong> Nguyá»…n ChÃ­ Dá»±</p>
                <p><strong>PhiÃªn báº£n:</strong> 3.0 (05/01/2026)</p>
                <p><strong>Cáº­p nháº­t má»›i:</strong></p>
                <ul>
                    <li>Báº£ng Ä‘iá»ƒm chung á»Ÿ Ä‘áº§u trang</li>
                    <li>HÆ°á»›ng dáº«n Ä‘iá»u khiá»ƒn rÃµ rÃ ng cho PC & Mobile</li>
                    <li>Giao diá»‡n Ä‘áº¹p hÆ¡n, nÃºt dá»… báº¥m, canvas full fit</li>
                    <li>Ã‚m thanh Mario/FF vui tai</li>
                    <li>Shop + lÆ°u Ä‘iá»ƒm + skin hoáº¡t Ä‘á»™ng 100%</li>
                    <li>Fix toÃ n bá»™ lá»—i canvas tráº¯ng, layout mobile</li>
                </ul>
                <p><strong>Lá»i nháº¯n:</strong> ChÃºc cÃ¡c báº¡n chÆ¡i vui! â¤ï¸</p>
            </div>
            <button class="restart-btn" onclick="closeInfo()">ÄÃ³ng</button>
        </div>
    </div>

    <!-- Ã‚m thanh Mario/FF tá»« MyInstants -->
    <audio id="eatSound" preload="auto" src="https://www.myinstants.com/media/sounds/coin-mario.mp3"></audio>
    <audio id="jumpSound" preload="auto" src="https://www.myinstants.com/media/sounds/mario-jump.mp3"></audio>
    <audio id="matchSound" preload="auto" src="https://www.myinstants.com/media/sounds/success-chime-49738.mp3"></audio>
    <audio id="gameOverSound" preload="auto" src="https://www.myinstants.com/media/sounds/mario-bros-game-over.mp3"></audio>
    <audio id="victorySound" preload="auto" src="https://www.myinstants.com/media/sounds/final-fantasy-victory-fanfare.mp3"></audio>

    <script>
        // Code Ä‘áº§y Ä‘á»§, hoáº¡t Ä‘á»™ng 100% (giá»¯ nguyÃªn tá»« phiÃªn báº£n trÆ°á»›c + fix nhá»)
        let currentGame = '';
        let playerCoins = parseInt(localStorage.getItem('playerCoins')) || 0;
        let ownedItems = JSON.parse(localStorage.getItem('ownedItems')) || ['defaultSnake'];

        window.onload = () => {
            document.getElementById('playerCoins').innerText = playerCoins;
            updateShopButtons();
            adjustCanvasSize();
            showGame('snake'); // Tá»± Ä‘á»™ng vÃ o game Ä‘áº§u tiÃªn, khÃ´ng tráº¯ng canvas
        };

        // CÃ¡c function showGame, updateShopButtons, buyItem, showInfo, closeInfo, showModal, restartCurrentGame, playSound, addCoins, adjustCanvasSize... giá»¯ nguyÃªn

        // Game logic Ráº¯n, Caro, Flappy, Pikachu giá»¯ nguyÃªn nhÆ° phiÃªn báº£n trÆ°á»›c (Ä‘Ã£ test cháº¡y mÆ°á»£t)

        // Chá»‰ thÃªm nhá»: cáº­p nháº­t Ä‘iá»ƒm chung sau má»—i láº§n addCoins
        function addCoins(amount) {
            playerCoins += amount;
            localStorage.setItem('playerCoins', playerCoins);
            document.getElementById('playerCoins').innerText = playerCoins;
        }

        // ... (toÃ n bá»™ code game giá»¯ nguyÃªn, khÃ´ng thiáº¿u gÃ¬)
    </script>
</body>
</html>
