<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MINI GAME ÄÆ¯á»¢C Táº O Bá»I NGUYá»„N CHÃ Dá»°</title>
    <link href="https://fonts.googleapis.com/css2?family=Comic+Neue:wght@700&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body{font-family:'Roboto',sans-serif;text-align:center;background:linear-gradient(135deg,#ff9a9e,#fad0c4);margin:0;padding:20px;min-height:100vh;color:#333;background-attachment:fixed}
        h1{font-family:'Comic Neue',cursive;font-size:3em;color:#ff4757;text-shadow:3px 3px 0 #fff;margin:20px 0 0}
        h2{font-size:1.8em;color:#e84393;margin:10px 0 40px}
        .heart{color:#ff6b6b;animation:pulse 1.5s infinite}
        @keyframes pulse{0%,100%{transform:scale(1)}50%{transform:scale(1.2)}}
        .datetime{font-size:1.6em;color:#fff;background:rgba(0,0,0,0.4);padding:10px 30px;border-radius:50px;margin:20px auto;display:inline-block;box-shadow:0 4px 10px rgba(0,0,0,0.2)}
        .page-nav{margin:30px 0}
        .page-btn{padding:15px 40px;font-size:1.6em;margin:0 10px;border:none;border-radius:50px;background:#ff6b81;color:#fff;cursor:pointer;box-shadow:0 5px 15px rgba(255,107,129,0.4);transition:all .3s}
        .page-btn:hover{background:#ff4757}
        .page-btn.active{background:#2ed573}
        .page{display:none}
        .page.active{display:block}
        .menu{display:flex;flex-wrap:wrap;justify-content:center;gap:20px;margin-bottom:40px}
        .game-btn{padding:20px 30px;font-size:1.4em;border:none;border-radius:20px;background:#ff6b81;color:#fff;cursor:pointer;box-shadow:0 8px 20px rgba(255,107,129,0.4);transition:all .3s;min-width:200px}
        .game-btn:hover{background:#ff4757;transform:translateY(-10px) scale(1.05)}
        .game-area{display:none;margin:40px auto;padding:30px;border-radius:20px;background:rgba(255,255,255,0.9);box-shadow:0 10px 30px rgba(0,0,0,0.2);max-width:800px}
        .game-area.active{display:block;animation:fadeIn .6s}
        @keyframes fadeIn{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}
        h3{font-family:'Comic Neue',cursive;font-size:2.5em;color:#2f3542;margin-bottom:20px}
        button{padding:12px 25px;margin:10px;font-size:17px;border:none;border-radius:50px;background:#ff6b81;color:#fff;cursor:pointer;box-shadow:0 5px 15px rgba(255,107,129,0.4);transition:all .3s}
        button:hover{background:#ff4757;transform:scale(1.1)}
        .choice-btns button{width:110px;height:110px;font-size:55px;border-radius:20px;background:#ffa502;box-shadow:0 8px 20px rgba(255,165,2,0.4)}
        .choice-btns button:hover{background:#ff6348;transform:scale(1.15)}
        #board{display:grid;grid-template-columns:repeat(3,120px);gap:10px;margin:30px auto;justify-content:center}
        .cell{width:120px;height:120px;background:#fff;border-radius:15px;display:flex;align-items:center;justify-content:center;font-size:60px;cursor:pointer;box-shadow:0 5px 15px rgba(0,0,0,0.1);transition:all .3s}
        .cell:hover{background:#dfe4ea;transform:scale(1.05)}
        .result{font-size:1.6em;font-weight:bold;min-height:60px;margin:20px 0}
        .modal{display:none;position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.7);justify-content:center;align-items:center;z-index:1000;overflow:hidden}
        .modal-content{background:#fff;padding:40px;border-radius:30px;text-align:center;max-width:90%;box-shadow:0 20px 40px rgba(0,0,0,0.3);animation:bounceIn .8s;position:relative;z-index:2}
        @keyframes bounceIn{0%{transform:scale(0.3);opacity:0}50%{transform:scale(1.05)}70%{transform:scale(0.9)}100%{transform:scale(1);opacity:1}}
        .modal-content h4{font-family:'Comic Neue',cursive;font-size:3em;margin:20px 0}
        .win{color:#2ed573}.lose{color:#ff4757}
        .modal-emoji{font-size:6em;margin:20px 0}
        .rain{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:1}
        .rain-drop{position:absolute;width:2px;height:50px;background:linear-gradient(transparent,#6496ff);animation:fall linear infinite}
        @keyframes fall{0%{transform:translateY(-100px)}100%{transform:translateY(100vh)}}
        .rating{margin:50px 0;padding:30px;background:rgba(255,255,255,0.8);border-radius:20px;max-width:700px;margin-left:auto;margin-right:auto}
        .rating p{font-size:1.8em;color:#ff4757;margin-bottom:20px}
        .stars{display:flex;justify-content:center;gap:15px}
        .star{font-size:60px;cursor:pointer;color:#ccc;transition:all .3s}
        .star:hover,.star.selected{color:#ffd700;transform:scale(1.2)}
        #footer{margin-top:60px;padding:25px;background:rgba(255,255,255,0.8);border-radius:20px;max-width:700px;margin-left:auto;margin-right:auto}
        .form-section{display:none;margin-top:20px;padding:20px;background:rgba(255,255,255,0.6);border-radius:15px}
        input[type="email"],textarea{padding:15px;width:80%;max-width:500px;border-radius:20px;border:2px solid #ff6b81;font-size:16px;margin:10px 0;box-sizing:border-box}
        textarea{height:120px;resize:vertical}
        .success-msg{display:none;background:#2ed573;color:#fff;padding:20px;border-radius:20px;font-size:1.4em;margin:20px auto;max-width:600px}
        #snake-controls{margin:20px 0;display:grid;grid-template-areas:". up .""left down right";gap:10px;max-width:200px;margin-left:auto;margin-right:auto}
        #snake-up{grid-area:up}#snake-left{grid-area:left}#snake-down{grid-area:down}#snake-right{grid-area:right}
        #snake-controls button{width:60px;height:60px;font-size:30px;background:#ffa502}
        #snake-controls button:hover{background:#ff6348}
        #dino-canvas{background:#f7f7f7;border-radius:15px;box-shadow:0 5px 20px rgba(0,0,0,0.2);display:block;margin:20px auto}
        @media(max-width:600px){h1{font-size:2.5em}h2{font-size:1.6em}.game-btn{font-size:1.2em;min-width:160px;padding:15px}#board{grid-template-columns:repeat(3,90px)}.cell{width:90px;height:90px;font-size:50px}.choice-btns button{width:90px;height:90px;font-size:45px}.modal-content h4{font-size:2.2em}.modal-emoji{font-size:4em}.star{font-size:45px}}
    </style>
</head>
<body>
    <div class="datetime" id="datetime">Äang táº£i thá»i gian...</div>

    <h1>MINI GAME ÄÆ¯á»¢C Táº O Bá»I NGUYá»„N CHÃ Dá»°</h1>
    <h2>CHÃšC CÃC Báº N CHÆ I VUI Váºº, CÃ“ Lá»–I Báº¤M VÃ€O NÃšT REPORT BUGS <span class="heart">â™¥ï¸</span></h2>

    <div class="page-nav">
        <button class="page-btn active" onclick="showPage(1)">TRANG 1</button>
        <button class="page-btn" onclick="showPage(2)">TRANG 2 - Cáº¬P NHáº¬T Má»šI</button>
    </div>

    <div id="page1" class="page active">
        <div class="menu">
            <button class="game-btn" onclick="showGame('rps')">ğŸª¨âœ‹âœŒï¸ Oáº³n TÃ¹ TÃ¬</button>
            <button class="game-btn" onclick="showGame('tic')">âŒâ­• Cá» Caro</button>
            <button class="game-btn" onclick="showGame('baucua')">ğŸ² Báº§u Cua TÃ´m CÃ¡</button>
            <button class="game-btn" onclick="showGame('hangman')">ğŸ”¤ Äuá»•i HÃ¬nh Báº¯t Chá»¯</button>
            <button class="game-btn" onclick="showGame('snake')">ğŸ Ráº¯n SÄƒn Má»“i</button>
        </div>
    </div>

    <div id="page2" class="page">
        <h3 style="font-size:2.8em;color:#ff4757;margin:50px 0">
            CÃC GAME Má»šI Sáº¼ ÄÆ¯á»¢C Cáº¬P NHáº¬T á» TRANG NÃ€Y Náº¾U CÃ“ â™¥ï¸
        </h3>
        <div class="menu">
            <button class="game-btn" onclick="showGame('flappy')">ğŸ•Šï¸ Flappy Bird</button>
            <button class="game-btn" onclick="showGame('dino')">ğŸ¦– Dinosaur Game (Má»šI!!!)</button>
        </div>
    </div>

    <div id="rps" class="game-area">
        <h3>ğŸª¨âœ‹âœŒï¸ Oáº³n TÃ¹ TÃ¬</h3>
        <p>Chá»n Ä‘i nÃ o!</p>
        <div class="choice-btns">
            <button onclick="playRPS('âœŠ')">âœŠ BÃºa</button>
            <button onclick="playRPS('âœ‹')">âœ‹ Bao</button>
            <button onclick="playRPS('âœŒï¸')">âœŒï¸ KÃ©o</button>
        </div>
        <p class="result" id="rps-result"></p>
        <button onclick="restartRPS()">ğŸ”„ Láº¡i nÃ o</button>
        <button onclick="backToMenu()">ğŸ”™ Vá» menu</button>
    </div>

    <div id="tic" class="game-area">
        <h3>âŒâ­• Cá» Caro</h3>
        <div id="board"></div>
        <p class="result" id="tic-result">LÆ°á»£t Ä‘i: X</p>
        <button onclick="restartTic()">ğŸ”„ ChÆ¡i láº¡i</button>
        <button onclick="backToMenu()">ğŸ”™ Vá» menu</button>
    </div>

    <div id="baucua" class="game-area">
        <h3>ğŸ² Báº§u Cua TÃ´m CÃ¡</h3>
        <p>Chá»n con váº­t may máº¯n!</p>
        <div class="choice-btns">
            <button onclick="playBauCua('ğŸ¦Œ')">ğŸ¦Œ Nai</button>
            <button onclick="playBauCua('ğŸ‰')">ğŸ‰ Báº§u</button>
            <button onclick="playBauCua('ğŸ”')">ğŸ” GÃ </button>
            <button onclick="playBauCua('ğŸ¦€')">ğŸ¦€ Cua</button>
            <button onclick="playBauCua('ğŸ¦')">ğŸ¦ TÃ´m</button>
            <button onclick="playBauCua('ğŸŸ')">ğŸŸ CÃ¡</button>
        </div>
        <p class="result" id="bau-cua-result"></p>
        <button onclick="restartBauCua()">ğŸ”„ Láº¯c láº¡i</button>
        <button onclick="backToMenu()">ğŸ”™ Vá» menu</button>
    </div>

    <div id="hangman" class="game-area">
        <h3>ğŸ”¤ Äuá»•i HÃ¬nh Báº¯t Chá»¯</h3>
        <p style="font-size:1.8em;margin:20px 0;color:#ff4757"><strong>Gá»£i Ã½:</strong> <span id="hangman-hint"></span></p>
        <p id="hangman-word" style="font-size:3em;letter-spacing:15px;margin:30px;"></p>
        <p>Sai: <span id="wrong-letters" style="color:red;font-size:1.5em;"></span></p>
        <div id="hangman-letters" class="choice-btns"></div>
        <button onclick="restartHangman()">ğŸ”„ ChÆ¡i láº¡i</button>
        <button onclick="backToMenu()">ğŸ”™ Vá» menu</button>
    </div>

    <div id="snake" class="game-area">
        <h3>ğŸ Ráº¯n SÄƒn Má»“i</h3>
        <canvas id="snake-canvas" width="400" height="400" style="background:#fff;border-radius:15px;box-shadow:0 5px 20px rgba(0,0,0,0.2);display:block;margin:0 auto;"></canvas>
        <p class="result">Äiá»ƒm: <span id="snake-score">0</span></p>
        <div id="snake-controls">
            <div></div>
            <button onclick="changeDir(0,-20)">â¬†ï¸</button>
            <div></div>
            <button onclick="changeDir(-20,0)">â¬…ï¸</button>
            <button onclick="changeDir(0,20)">â¬‡ï¸</button>
            <button onclick="changeDir(20,0)">â¡ï¸</button>
        </div>
        <button onclick="restartSnake()">ğŸ”„ ChÆ¡i láº¡i</button>
        <button onclick="backToMenu()">ğŸ”™ Vá» menu</button>
        <p><small>DÃ¹ng phÃ­m mÅ©i tÃªn hoáº·c nÃºt Ä‘á»ƒ di chuyá»ƒn ğŸ</small></p>
    </div>

    <div id="flappy" class="game-area">
        <h3>ğŸ•Šï¸ Flappy Bird</h3>
        <canvas id="flappy-canvas" width="400" height="600" style="background:linear-gradient(#87CEEB,#E0F7FA);border-radius:15px;box-shadow:0 5px 20px rgba(0,0,0,0.2);display:block;margin:0 auto;"></canvas>
        <p class="result">Äiá»ƒm: <span id="flappy-score">0</span></p>
        <p style="font-size:1.4em;color:#ff4757;margin:10px 0;"><strong>Báº N PHáº¢I Äá»¦ 100 ÄIá»‚M THÃŒ Má»šI THáº®NG TRÃ’ CHÆ I NÃ€Y</strong></p>
        <p><small>Báº¥m mÃ n hÃ¬nh/click Ä‘á»ƒ nháº£y ğŸ¦</small></p>
        <button onclick="restartFlappy()">ğŸ”„ ChÆ¡i láº¡i</button>
        <button onclick="backToMenu()">ğŸ”™ Vá» menu</button>
    </div>

    <div id="dino" class="game-area">
        <h3>ğŸ¦– Dinosaur Game</h3>
        <canvas id="dino-canvas" width="600" height="200"></canvas>
        <p class="result">Äiá»ƒm: <span id="dino-score">0</span></p>
        <p><small>Nháº¥n Space hoáº·c click Ä‘á»ƒ nháº£y ğŸ¦– (Cháº¡y tá»›i 9999 Ä‘iá»ƒm Ä‘á»ƒ xem káº¿t thÃºc Ä‘áº·c biá»‡t :)))</small></p>
        <button onclick="restartDino()">ğŸ”„ ChÆ¡i láº¡i</button>
        <button onclick="backToMenu()">ğŸ”™ Vá» menu</button>
    </div>

    <div id="result-modal" class="modal">
        <div class="rain" id="rain-effect"></div>
        <div class="modal-content">
            <div class="modal-emoji" id="modal-emoji"></div>
            <h4 id="modal-title"></h4>
            <p id="modal-message"></p>
            <div id="game-buttons">
                <button onclick="closeModalWithRestart()">ChÆ¡i láº¡i nÃ o! ğŸ”„</button>
                <button onclick="backToMenuAndClose()">Vá» menu ğŸ”™</button>
            </div>
            <div id="rating-buttons" style="display:none;">
                <button onclick="closeModalOnly()">ÄÃ³ng</button>
            </div>
        </div>
    </div>

    <div class="rating">
        <p>Báº¡n tháº¥y bá»™ mini game nÃ y tháº¿ nÃ o? ÄÃ¡nh giÃ¡ giÃºp mÃ¬nh nha â™¥ï¸</p>
        <div class="stars">
            <span class="star" onclick="rateGame(1)">â˜…</span>
            <span class="star" onclick="rateGame(2)">â˜…</span>
            <span class="star" onclick="rateGame(3)">â˜…</span>
            <span class="star" onclick="rateGame(4)">â˜…</span>
            <span class="star" onclick="rateGame(5)">â˜…</span>
        </div>
    </div>

    <div id="footer">
        <p><strong>MADE BY: NGUYá»„N CHÃ Dá»°</strong> â™¥ï¸</p>
        <button onclick="showForm('report')">ğŸ REPORT BUGS</button>
        <button onclick="showForm('suggest')">â• Gá»¢I Ã THÃŠM TRÃ’ CHÆ I</button>

        <div id="report" class="form-section">
            <p>Äiá»n thÃ´ng tin bÃ¡o lá»—i nhÃ©:</p>
            <input type="email" id="report-email" placeholder="Gmail cá»§a báº¡n">
            <textarea id="report-msg" placeholder="MÃ´ táº£ lá»—i chi tiáº¿t..."></textarea>
            <button onclick="sendReport()">ğŸ“¤ Gá»­i bÃ¡o lá»—i</button>
        </div>

        <div id="suggest" class="form-section">
            <p>Gá»£i Ã½ trÃ² chÆ¡i má»›i cho mÃ¬nh nhÃ©!</p>
            <input type="email" id="suggest-email" placeholder="Gmail cá»§a báº¡n">
            <textarea id="suggest-msg" placeholder="Báº¡n muá»‘n thÃªm trÃ² chÆ¡i gÃ¬? â™¥ï¸"></textarea>
            <button onclick="sendSuggest()">ğŸ“¤ Gá»­i gá»£i Ã½</button>
        </div>

        <div class="success-msg" id="success-msg">
            ÄÆ N Cá»¦A Báº N ÄÃƒ ÄÆ¯á»¢C Gá»¬I THÃ€NH CÃ”NG! <br>
            VUI LÃ’NG Äá»¢I TRONG 24H HOáº¶C HÆ N Náº¾U OWNER Báº¬N â™¥ï¸
        </div>

        <p>Gmail há»— trá»£: <strong>Herogoodboymc2024@gmail.com</strong></p>
    </div>

    <script>
        // Äá»’NG Há»’ VIá»†T NAM
        function updateDateTime(){
            const now = new Date();
            const options = { 
                timeZone: 'Asia/Ho_Chi_Minh',
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric', 
                hour: '2-digit', 
                minute: '2-digit', 
                second: '2-digit' 
            };
            const formatted = new Intl.DateTimeFormat('vi-VN', options).format(now);
            document.getElementById('datetime').innerText = `ğŸ•’ Thá»i gian Viá»‡t Nam: ${formatted}`;
        }
        updateDateTime();
        setInterval(updateDateTime, 1000);

        function showResultModal(t,title,msg,emoji){
            document.getElementById('modal-title').innerText = title;
            document.getElementById('modal-message').innerText = msg;
            document.getElementById('modal-emoji').innerText = emoji;
            document.getElementById('result-modal').style.display = 'flex';
            document.getElementById('rain-effect').innerHTML = '';
            document.getElementById('game-buttons').style.display = 'block';
            document.getElementById('rating-buttons').style.display = 'none';
            if(t === 'win'){
                document.getElementById('modal-title').classList.add('win');
                document.getElementById('modal-title').classList.remove('lose');
            }else{
                document.getElementById('modal-title').classList.add('lose');
                document.getElementById('modal-title').classList.remove('win');
                const r = document.getElementById('rain-effect');
                for(let i = 0; i < 80; i++){
                    const d = document.createElement('div');
                    d.classList.add('rain-drop');
                    d.style.left = Math.random()*100 + '%';
                    d.style.animationDelay = Math.random()*2 + 's';
                    d.style.animationDuration = 0.8 + Math.random()*0.6 + 's';
                    d.style.opacity = 0.6 + Math.random()*0.4;
                    r.appendChild(d);
                }
            }
        }

        function showRatingModal(t,title,msg,emoji){
            document.getElementById('modal-title').innerText = title;
            document.getElementById('modal-message').innerText = msg;
            document.getElementById('modal-emoji').innerText = emoji;
            document.getElementById('result-modal').style.display = 'flex';
            document.getElementById('rain-effect').innerHTML = '';
            document.getElementById('game-buttons').style.display = 'none';
            document.getElementById('rating-buttons').style.display = 'block';
            if(t === 'win'){
                document.getElementById('modal-title').classList.add('win');
                document.getElementById('modal-title').classList.remove('lose');
            }else{
                document.getElementById('modal-title').classList.add('lose');
                document.getElementById('modal-title').classList.remove('win');
                const r = document.getElementById('rain-effect');
                for(let i = 0; i < 80; i++){
                    const d = document.createElement('div');
                    d.classList.add('rain-drop');
                    d.style.left = Math.random()*100 + '%';
                    d.style.animationDelay = Math.random()*2 + 's';
                    d.style.animationDuration = 0.8 + Math.random()*0.6 + 's';
                    d.style.opacity = 0.6 + Math.random()*0.4;
                    r.appendChild(d);
                }
            }
        }

        function closeModalWithRestart(){
            document.getElementById('result-modal').style.display = 'none';
            document.getElementById('rain-effect').innerHTML = '';
            const activeGame = document.querySelector('.game-area.active')?.id;
            if(activeGame === 'rps') restartRPS();
            if(activeGame === 'tic') restartTic();
            if(activeGame === 'baucua') restartBauCua();
            if(activeGame === 'hangman') restartHangman();
            if(activeGame === 'snake') restartSnake();
            if(activeGame === 'flappy') restartFlappy();
            if(activeGame === 'dino') restartDino();
        }

        function closeModalOnly(){
            document.getElementById('result-modal').style.display = 'none';
            document.getElementById('rain-effect').innerHTML = '';
        }

        function backToMenuAndClose(){
            document.getElementById('result-modal').style.display = 'none';
            document.getElementById('rain-effect').innerHTML = '';
            backToMenu();
        }

        function showPage(num){
            document.querySelectorAll('.page-btn').forEach(b=>b.classList.remove('active'));
            document.querySelectorAll('.page-btn')[num-1].classList.add('active');
            document.getElementById('page1').classList.toggle('active',num===1);
            document.getElementById('page2').classList.toggle('active',num===2);
            backToMenu();
        }

        function showGame(id){
            document.querySelectorAll('.game-area').forEach(a=>a.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            if(id==='tic') initTicBoard();
            if(id==='hangman') initHangman();
            if(id==='snake') initSnake();
            if(id==='flappy') initFlappy();
            if(id==='dino') initDino();
        }

        function backToMenu(){
            document.querySelectorAll('.game-area').forEach(a=>a.classList.remove('active'));
        }

        // Oáº³n TÃ¹ TÃ¬
        const rpsChoices = ['âœŠ','âœ‹','âœŒï¸'];
        function playRPS(c){
            const comp = rpsChoices[Math.floor(Math.random()*3)];
            if(c===comp){
                document.getElementById('rps-result').innerHTML = `<strong>Báº¡n:</strong> ${c}<br><strong>MÃ¡y:</strong> ${comp}<br><br>HÃ²a! ğŸ¤`;
            }else if((c==='âœŠ'&&comp==='âœŒï¸')||(c==='âœ‹'&&comp==='âœŠ')||(c==='âœŒï¸'&&comp==='âœ‹')){
                showResultModal('win','THáº®NG!!!','Giá»i quÃ¡ â™¥ï¸','ğŸ†âœ¨');
            }else{
                showResultModal('lose','Thua rá»“i...','Cá»‘ lÃªn nha ğŸ’ª','ğŸ˜¢');
            }
        }
        function restartRPS(){document.getElementById('rps-result').innerHTML='';}

        // Cá» Caro
        let ticBoard = Array(9).fill(null), currentPlayer = 'X';
        function initTicBoard(){
            const b = document.getElementById('board'); b.innerHTML = '';
            ticBoard = Array(9).fill(null); currentPlayer = 'X';
            for(let i=0;i<9;i++){
                const cell = document.createElement('div'); cell.classList.add('cell');
                cell.onclick = () => makeMove(i);
                b.appendChild(cell);
            }
            document.getElementById('tic-result').innerText = 'LÆ°á»£t Ä‘i: X';
        }
        function makeMove(i){
            if(ticBoard[i] !== null || checkWinner(ticBoard)) return;
            ticBoard[i] = currentPlayer;
            document.querySelectorAll('#board .cell')[i].innerText = currentPlayer;
            if(checkWinner(ticBoard)){
                showResultModal('win','CHÃšC Má»ªNG!!!',`${currentPlayer} tháº¯ng rá»“i! ğŸ‰`,'ğŸ†');
            }else if(ticBoard.every(c=>c!==null)){
                showResultModal('lose','HÃ’A NHAU!','Vui lÃ  chÃ­nh ğŸ˜„','ğŸ¤');
            }else{
                currentPlayer = currentPlayer === 'X' ? 'O' : 'X';
                document.getElementById('tic-result').innerText = 'LÆ°á»£t Ä‘i: ' + currentPlayer;
            }
        }
        function checkWinner(b){
            const w = [[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];
            return w.some(com=>b[com[0]] && b[com[0]]===b[com[1]] && b[com[1]]===b[com[2]]);
        }
        function restartTic(){initTicBoard();}

        // Báº§u Cua
        const bc = ['ğŸ¦Œ','ğŸ‰','ğŸ”','ğŸ¦€','ğŸ¦','ğŸŸ'];
        function playBauCua(c){
            const d1 = bc[Math.floor(Math.random()*6)];
            const d2 = bc[Math.floor(Math.random()*6)];
            const d3 = bc[Math.floor(Math.random()*6)];
            const count = [d1,d2,d3].filter(x=>x===c).length;
            document.getElementById('bau-cua-result').innerHTML = `<strong>Báº¡n chá»n:</strong> ${c}<br><strong>Káº¿t quáº£:</strong> ${d1} ${d2} ${d3}<br><br>`;
            if(count>0){
                showResultModal('win','THáº®NG Rá»’I!!!',`TrÃºng ${count} con! â™¥ï¸`,'ğŸ’°');
            }else{
                showResultModal('lose','Thua rá»“i...','Láº§n sau trÃºng lá»›n nha!','ğŸ˜­');
            }
        }
        function restartBauCua(){document.getElementById('bau-cua-result').innerHTML='';}

        // Äuá»•i HÃ¬nh Báº¯t Chá»¯
        const wordHints = {"VIETNAM":"Quá»‘c gia hÃ¬nh chá»¯ S â¤ï¸","BANBE":"Báº¡n thÃ¢n mÃ£i mÃ£i ğŸ‘­","YEUTHUONG":"Cáº£m xÃºc Ä‘áº¹p nháº¥t ğŸ’•","HANHPHUC":"Äiá»u má»i ngÆ°á»i mong muá»‘n ğŸ˜Š","CHILL":"ThÆ° giÃ£n thoáº£i mÃ¡i ğŸ›‹ï¸","GAME":"Thá»© Ä‘ang chÆ¡i ğŸ®","VUIVE":"Cáº£m giÃ¡c vui váº» ğŸ˜„","MINIGAME":"Bá»™ game nhá» nÃ y","XINCHAO":"Lá»i chÃ o ğŸ‘‹","CAMON":"Lá»i cáº£m Æ¡n ğŸ™","NGUYENCHIDU":"TÃªn ngÆ°á»i táº¡o game ğŸ˜"};
        let currentWord = '', displayedWord = [], wrongLetters = [], gameOver = false;
        function initHangman(){
            const keys = Object.keys(wordHints);
            currentWord = keys[Math.floor(Math.random()*keys.length)];
            displayedWord = Array(currentWord.length).fill('_');
            wrongLetters = []; gameOver = false;
            document.getElementById('hangman-hint').innerText = wordHints[currentWord];
            document.getElementById('hangman-word').innerText = displayedWord.join(' ');
            document.getElementById('wrong-letters').innerText = '';
            const l = document.getElementById('hangman-letters'); l.innerHTML = '';
            for(let i=65;i<=90;i++){
                const letter = String.fromCharCode(i);
                const btn = document.createElement('button');
                btn.innerText = letter;
                btn.onclick = () => guessLetter(letter, btn);
                l.appendChild(btn);
            }
        }
        function guessLetter(l,btn){
            if(gameOver || btn.disabled) return;
            btn.disabled = true;
            if(currentWord.includes(l)){
                for(let i=0;i<currentWord.length;i++) if(currentWord[i]===l) displayedWord[i]=l;
                document.getElementById('hangman-word').innerText = displayedWord.join(' ');
                if(!displayedWord.includes('_')){
                    gameOver = true;
                    showResultModal('win','CHÃšC Má»ªNG!!!','ÄoÃ¡n Ä‘Ãºng rá»“i! â™¥ï¸','ğŸ†');
                }
            }else{
                wrongLetters.push(l);
                document.getElementById('wrong-letters').innerText = wrongLetters.join(' ');
                if(wrongLetters.length>=6){
                    gameOver = true;
                    showResultModal('lose','Thua rá»“i...','Tá»« lÃ : '+currentWord,'ğŸ˜­');
                }
            }
        }
        function restartHangman(){initHangman();}

        // Ráº¯n SÄƒn Má»“i
        let snake = [], food = {}, dx = 0, dy = 0, score = 0, snakeCanvas, snakeCtx, snakeInterval;
        function initSnake(){
            snakeCanvas = document.getElementById('snake-canvas'); snakeCtx = snakeCanvas.getContext('2d');
            snake = [{x:200,y:200}]; spawnFood(); dx = 0; dy = 0; score = 0;
            document.getElementById('snake-score').innerText = score;
            drawSnakeGame();
            if(snakeInterval) clearInterval(snakeInterval);
            snakeInterval = setInterval(snakeLoop,150);
        }
        function spawnFood(){
            do{food = {x:Math.floor(Math.random()*20)*20,y:Math.floor(Math.random()*20)*20};}while(snake.some(s=>s.x===food.x&&s.y===food.y));
        }
        function snakeLoop(){
            if(dx===0&&dy===0) return;
            const head = {x:snake[0].x+dx,y:snake[0].y+dy};
            if(head.x<0||head.x>=400||head.y<0||head.y>=400||snake.some(s=>s.x===head.x&&s.y===head.y)){
                clearInterval(snakeInterval);
                showResultModal('lose','GAME OVER!!!','Äiá»ƒm: '+score,'ğŸ’”ğŸ');
                return;
            }
            snake.unshift(head);
            if(head.x===food.x&&head.y===food.y){score++;document.getElementById('snake-score').innerText=score;spawnFood();}else{snake.pop();}
            drawSnakeGame();
        }
        function drawSnakeGame(){
            snakeCtx.fillStyle='#ffffff';snakeCtx.fillRect(0,0,400,400);
            snakeCtx.fillStyle='#ff6b81';snake.forEach(s=>snakeCtx.fillRect(s.x+2,s.y+2,16,16));
            snakeCtx.fillStyle='#2ed573';snakeCtx.fillRect(food.x+2,food.y+2,16,16);
        }
        function changeDir(nx,ny){if(dx===-nx&&dy===-ny)return;dx=nx;dy=ny;}
        document.addEventListener('keydown',e=>{
            if(!document.getElementById('snake').classList.contains('active'))return;
            if(e.key==='ArrowUp'&&dy!==20)changeDir(0,-20);
            if(e.key==='ArrowDown'&&dy!==-20)changeDir(0,20);
            if(e.key==='ArrowLeft'&&dx!==20)changeDir(-20,0);
            if(e.key==='ArrowRight'&&dx!==-20)changeDir(20,0);
        });
        function restartSnake(){clearInterval(snakeInterval);initSnake();}

        // Flappy Bird
        let birdX=80,birdY=300,birdSize=24,birdVelocity=0,gravity=0.35,jumpStrength=-8,scoreFlappy=0,pipes=[],flappyCanvas,flappyCtx,flappyInterval;
        const WIN_SCORE_FLAPPY = 100;
        function initFlappy(){
            flappyCanvas=document.getElementById('flappy-canvas');flappyCtx=flappyCanvas.getContext('2d');
            birdY=300;birdVelocity=0;scoreFlappy=0;document.getElementById('flappy-score').innerText=scoreFlappy;
            pipes=[];spawnPipe();
            if(flappyInterval)clearInterval(flappyInterval);
            flappyInterval=setInterval(flappyLoop,20);
            flappyCanvas.onclick=jumpFlappy;
            flappyCanvas.ontouchstart=e=>{e.preventDefault();jumpFlappy();};
        }
        function jumpFlappy(){birdVelocity=jumpStrength;}
        function spawnPipe(){
            const gap=170,height=Math.floor(Math.random()*(flappyCanvas.height-gap-220))+110;
            pipes.push({x:flappyCanvas.width,top:height,bottom:height+gap,scored:false});
        }
        function flappyLoop(){
            birdVelocity+=gravity;birdY+=birdVelocity;
            if(birdY<0||birdY+birdSize>flappyCanvas.height){gameOverFlappy();return;}
            pipes.forEach(p=>p.x-=2);
            if(pipes[0].x<-60)pipes.shift();
            if(pipes.length<5&&pipes[pipes.length-1].x<flappyCanvas.width-220)spawnPipe();
            pipes.forEach(p=>{
                const birdLeft=birdX+10,birdRight=birdX+birdSize-10,birdTop=birdY+10,birdBottom=birdY+birdSize-10;
                if(p.x<birdRight&&p.x+50>birdLeft){
                    if(birdTop<p.top||birdBottom>p.bottom){gameOverFlappy();}
                }
                if(!p.scored && p.x+50<birdX){
                    p.scored=true;
                    scoreFlappy++;
                    document.getElementById('flappy-score').innerText=scoreFlappy;
                    if(scoreFlappy===WIN_SCORE_FLAPPY){
                        clearInterval(flappyInterval);
                        showResultModal('win','CHÃšC Má»ªNG THáº®NG CUá»˜C!!! ğŸ‰','Báº¡n Ä‘Ã£ Ä‘áº¡t Ä‘á»§ 100 Ä‘iá»ƒm! SiÃªu giá»i luÃ´n â™¥ï¸','ğŸ†âœ¨ğŸŠ');
                    }
                }
            });
            drawFlappy();
        }
        function drawFlappy(){
            flappyCtx.clearRect(0,0,flappyCanvas.width,flappyCanvas.height);
            flappyCtx.fillStyle='#228B22';
            pipes.forEach(p=>{
                flappyCtx.fillRect(p.x,0,50,p.top);
                flappyCtx.fillRect(p.x,p.bottom,50,flappyCanvas.height-p.bottom);
            });
            flappyCtx.fillStyle='#FFD700';
            flappyCtx.fillRect(birdX,birdY,birdSize,birdSize);
        }
        function gameOverFlappy(){
            clearInterval(flappyInterval);
            showResultModal('lose','GAME OVER ğŸ˜­','ğŸ’”ğŸ•Šï¸\nÄiá»ƒm: '+scoreFlappy + '\nğŸ˜¢','ğŸ’”ğŸ•Šï¸ğŸ˜¢');
        }
        function restartFlappy(){clearInterval(flappyInterval);initFlappy();}

        // Dinosaur Game
        let dinoX = 50, dinoY = 150, dinoVelocity = 0, gravity = 0.6, jumpStrength = -12, isJumping = false;
        let obstacles = [], clouds = [], scoreDino = 0, gameSpeed = 5, dinoCanvas, dinoCtx, dinoInterval;
        let gameOverDino = false, endingShown = false;
        const WIN_SCORE_DINO = 9999;

        function initDino(){
            dinoCanvas = document.getElementById('dino-canvas');
            dinoCtx = dinoCanvas.getContext('2d');
            dinoX = 50; dinoY = 150; dinoVelocity = 0; isJumping = false;
            obstacles = []; clouds = []; scoreDino = 0; gameSpeed = 5; gameOverDino = false; endingShown = false;
            document.getElementById('dino-score').innerText = scoreDino;
            spawnCloud();
            if(dinoInterval) clearInterval(dinoInterval);
            dinoInterval = setInterval(dinoLoop, 20);
            document.addEventListener('keydown', jumpDino);
            dinoCanvas.onclick = jumpDino;
        }

        function jumpDino(e){
            if((e.type === 'keydown' && e.code === 'Space') || e.type === 'click'){
                e.preventDefault();
                if(!isJumping && !gameOverDino){
                    dinoVelocity = jumpStrength;
                    isJumping = true;
                }
                if(gameOverDino && !endingShown) restartDino();
            }
        }

        function spawnObstacle(){
            const height = 30 + Math.random() * 30;
            obstacles.push({x: dinoCanvas.width, width: 20 + Math.random() * 20, height: height});
        }

        function spawnCloud(){
            clouds.push({x: dinoCanvas.width, y: 30 + Math.random() * 70, size: 40 + Math.random() * 30});
        }

        function dinoLoop(){
            dinoVelocity += gravity;
            dinoY += dinoVelocity;
            if(dinoY >= 150){ dinoY = 150; dinoVelocity = 0; isJumping = false; }

            dinoCtx.clearRect(0,0,dinoCanvas.width,dinoCanvas.height);
            dinoCtx.fillStyle = '#535353';
            dinoCtx.fillRect(0,170,dinoCanvas.width,2); // Ä‘Æ°á»ng Ä‘áº¥t

            // Váº½ dino
            dinoCtx.fillStyle = '#535353';
            dinoCtx.fillRect(dinoX, dinoY - 40, 40, 40); // thÃ¢n
            dinoCtx.fillRect(dinoX + 35, dinoY - 20, 15, 20); // Ä‘uÃ´i

            // Váº½ clouds
            clouds.forEach((c,i) => {
                c.x -= 1;
                dinoCtx.fillStyle = '#fff';
                dinoCtx.fillRect(c.x, c.y, c.size, 20);
                dinoCtx.fillRect(c.x + 10, c.y - 10, c.size - 20, 25);
                if(c.x < -100) clouds.splice(i,1);
            });
            if(Math.random() < 0.01) spawnCloud();

            // Váº½ obstacles
            obstacles.forEach((o,i) => {
                o.x -= gameSpeed;
                dinoCtx.fillStyle = '#535353';
                dinoCtx.fillRect(o.x, 170 - o.height, o.width, o.height);
                if(o.x < -50) obstacles.splice(i,1);

                // Va cháº¡m
                if(dinoX + 40 > o.x && dinoX < o.x + o.width && dinoY > 130){
                    gameOverDino = true;
                    clearInterval(dinoInterval);
                    showResultModal('lose','GAME OVER ğŸ˜­','Äiá»ƒm: '+scoreDino + '\nCá»‘ lÃªn láº§n sau nha ğŸ¦–','ğŸ’”');
                }
            });

            // TÄƒng Ä‘iá»ƒm vÃ  tá»‘c Ä‘á»™
            scoreDino++;
            document.getElementById('dino-score').innerText = scoreDino;
            if(scoreDino % 500 === 0) gameSpeed += 0.5;
            if(scoreDino % 100 === 0 && Math.random() < 0.03) spawnObstacle();

            // Káº¿t thÃºc Ä‘áº·c biá»‡t
            if(scoreDino >= WIN_SCORE_DINO && !endingShown){
                endingShown = true;
                clearInterval(dinoInterval);
                showResultModal('lose','Káº¾T THÃšC Äáº¶C BIá»†T...','Báº¡n Ä‘Ã£ cháº¡y tá»›i 9999 Ä‘iá»ƒm...\nNhÆ°ng... Dino girl Ä‘ang Ä‘i vá»›i má»™t anh chÃ ng khÃ¡c rá»“i ğŸ˜­ğŸ˜­\nCÃ´ áº¥y nÃ³i: "Em xin lá»—i, mÃ¬nh chia tay nhÃ©..."','ğŸ’”ğŸ˜¢ğŸ¦–');
            }
        }

        function restartDino(){
            clearInterval(dinoInterval);
            initDino();
        }

        // Report & Suggest
        function showForm(t){
            document.getElementById('report').style.display='none';
            document.getElementById('suggest').style.display='none';
            document.getElementById('success-msg').style.display='none';
            document.getElementById(t).style.display='block';
        }
        function sendReport(){
            const e=document.getElementById('report-email').value.trim(),m=document.getElementById('report-msg').value.trim();
            if(!e||!m){alert('Äiá»n Ä‘áº§y Ä‘á»§ nhÃ©!');return;}
            window.location.href=`mailto:Herogoodboymc2024@gmail.com?subject=[BÃO Lá»–I] Tá»«: ${e}&body=Gmail: ${e}\n\nLá»—i: ${m}\n\n(Cáº£m Æ¡n báº¡n â™¥ï¸)`;
            showSuccess();
        }
        function sendSuggest(){
            const e=document.getElementById('suggest-email').value.trim(),m=document.getElementById('suggest-msg').value.trim();
            if(!e||!m){alert('Äiá»n Ä‘áº§y Ä‘á»§ nhÃ©!');return;}
            window.location.href=`mailto:Herogoodboymc2024@gmail.com?subject=[Gá»¢I Ã] Tá»«: ${e}&body=Gmail: ${e}\n\nGá»£i Ã½: ${m}\n\n(Cáº£m Æ¡n báº¡n â™¥ï¸)`;
            showSuccess();
        }
        function showSuccess(){
            document.getElementById('report').style.display='none';
            document.getElementById('suggest').style.display='none';
            document.getElementById('success-msg').style.display='block';
        }

        // ÄÃ¡nh giÃ¡ sao
        function rateGame(s){
            document.querySelectorAll('.star').forEach((st,i)=>{st.classList.toggle('selected',i<s);});
            window.location.href=`mailto:Herogoodboymc2024@gmail.com?subject=[ÄÃNH GIÃ] ${s} sao&body=CÃ³ ngÆ°á»i chÆ¡i Ä‘Ã¡nh giÃ¡ ${s}/5 sao! â™¥ï¸`;

            if(s === 5){
                showRatingModal('win','Cáº¢M Æ N Báº N NHIá»€U Láº®M!!! ğŸ˜Šâ™¥ï¸â™¥ï¸â™¥ï¸','MÃ¬nh vui quÃ¡ trá»i luÃ´n khi Ä‘Æ°á»£c 5 sao!!! ğŸ˜ğŸ˜ğŸ˜\nSáº½ cá»‘ gáº¯ng hÆ¡n ná»¯a nha!!!','ğŸ˜ŠğŸ˜ŠğŸ˜Šâ™¥ï¸â™¥ï¸â™¥ï¸');
            }else if(s === 4){
                showRatingModal('win','Cáº¢M Æ N Báº N NHIá»€U!','4 sao rá»“i, mÃ¬nh sáº½ cá»‘ gáº¯ng Ä‘á»ƒ xá»©ng Ä‘Ã¡ng 5 sao nhÃ©!!! â™¥ï¸','ğŸ˜ŠğŸ‘');
            }else if(s === 3){
                showRatingModal('lose','Cáº¢M Æ N Báº N ÄÃƒ ÄÃNH GIÃ','3 sao huhu... MÃ¬nh sáº½ cáº£i thiá»‡n hÆ¡n, báº¡n gÃ³p Ã½ giÃºp mÃ¬nh nha!!!','ğŸ˜ğŸ˜¢');
            }else if(s === 2){
                showRatingModal('lose','Huhu 2 sao...','MÃ¬nh buá»“n quÃ¡, báº¡n tháº¥y pháº§n nÃ o chÆ°a hay thÃ¬ nÃ³i mÃ¬nh sá»­a nha!!!','ğŸ˜¢ğŸ’”');
            }else{
                showRatingModal('lose','1 SAO THÃ”I Ã€... MÃŒNH BUá»’N QUÃ!!!','MÃ¬nh sáº½ cá»‘ gáº¯ng sá»­a háº¿t lá»—i, báº¡n bÃ¡o lá»—i giÃºp mÃ¬nh vá»›i huhu ğŸ˜­ğŸ˜­ğŸ˜­','ğŸ˜­ğŸ˜­ğŸ˜­ğŸ’”');
            }
        }
    </script>
</body>
</html>
